## **🌐 **Infrastructure Overview****

---

`master-01` and `worker-01` are behind an ISP router, which assigns a different public IP address than the nodes themselves. WireGuard is used to establish a VPN mesh, with `cloud-vm` serving as the entry point for external traffic. `cloud-vm` has a public IP address and will handle all external traffic redirected from Cloudflare, to domain `example.com`.

**💻 Operating System**: AlmaLinux 9.4

**🎯 Primary Goals**:
- Establish secure communication between nodes using WireGuard VPN.
- Set up a resilient and secure Kubernetes cluster.
- Utilize Calico for network policy management.
- Deploy MetalLB to enable LoadBalancer services on bare-metal setups.
- Implement TLS termination using Nginx Ingress and Cert-Manager.


**🔧 Our setup includes the following components:**

(ISP = Internet Service Provider)

| **📛 Node Name**                   | **🎭 Role**                   | **🔐 Private IP Address**                       | **🛡️ WireGuard IP** | **🌍 Public IP Address** | **📝 Notes**                                               |
|---------------------------------|----------------------------|----------------------------------------------|------------------|-----------------------|---------------------------------------------------------|
| `master-01`                     | Master Node(Control Plane) | 192.168.5.3 (Local IP Address by ISP router) | 10.0.0.1         | HOME_ROUTER_PUBLIC_IP | Located behind behind ISP home router                   |
| `worker-01`                     | Worker Node                | 192.168.5.4 (Local IP Address by ISP router) | 10.0.1.1         | HOME_ROUTER_PUBLIC_IP | Located behind behind ISP home router                   |
| `cloud-vm`                      | Worker Node                | 10.0.2.1                                     | 10.0.2.1         | CLOUD_VM_PUBLIC_IP    | VM hosted on <CLOUD, e.g DigitalOcean> with a public IP |
| -----------------------------   | ---------------            | --------------                               | --------------   | -------               |                                                         |
| **Local Jumpbox Machine**       |
| ------------------------------- | -----------------          | ----------------                             | ---------------- | ---------             |                                                         |
| `Local (Mac/Linux/Windows)`     | NONE                       | 192.168.5.5 (Local IP Address by ISP router) | **NONE**         |                       |                                                         |
| -----------------------------   | ---------------            | --------------                               | --------------   | -------               |                                                         |

---